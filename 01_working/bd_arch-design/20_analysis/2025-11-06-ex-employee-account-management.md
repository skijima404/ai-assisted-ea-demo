---
date: 2025-11-06
tags: [analysis]
confidence: ★★★☆☆
---

# 退職者のアカウント管理問題とセキュリティ懸念

> **GenAI向けの注意事項**: このファイルは `01_working/20_analysis/` フォルダに格納されており、確実度 ★★★☆☆（一次メモを整理した分析結果。ある程度検証されているが、確定的ではない）です。示唆は確定事項ではなく、分析段階の推論である可能性があります。最終的な意思決定には、`03_artifacts/` フォルダの成果物を参照してください。

## 観察事実 (Observation)

### 退職者のアカウント管理問題
- **問題の症状**: 退職者のアカウントが削除されず、退職後もしばらく利用できるケースがある
- **技術的原因**: 
  - HRDB側は退職処理があり、従業員が無効化されている（人事側では適切に処理されている）
  - **社食システム側での退職ユーザーデータの取り込みが不足していることが原因**
  - ID連携が一方向同期（人事→社食）になっており、退職情報の連携プロセスに問題がある
  - 社食システム側で退職情報を受信・処理する仕組みが実装されていない、または適切に動作していない

### 物理的なIDカード管理の問題
- **現状**: 何らかの事情でIDカード回収が遅れたユーザーが、退職後にIDカード返却に来て、その際に社食を食べて帰ることがある
- **組織の認識**: 
  - あっても年間1-2件のため、かかるコスト的にはあまり問題視していない
  - 退職後に長期間社食を利用して困ったケースはない

### システム連携の設計
- ID連携が一方向同期（人事→社食）のみ
- 退職時の削除フローが存在しない
- リアルタイム性が欠如しており、バッチ処理による遅延が発生

## 示唆 (Implication)

### セキュリティリスク
1. **不正アクセスのリスク**: 
   - 退職者のアカウントが有効なまま残っているため、退職者が社食システムにアクセスできる可能性がある
   - IDカードが回収されていない場合、物理的なアクセスも可能
   - 年間1-2件と少ないが、セキュリティインシデントは1件でも重大な影響を与える可能性がある

2. **データ漏洩のリスク**: 
   - 退職者が社食システムにアクセスできる場合、他の社員の情報や利用履歴にアクセスできる可能性がある
   - プライバシー保護の観点から問題がある

3. **コンプライアンス違反のリスク**: 
   - 退職者のアカウントが適切に無効化されていないことは、情報セキュリティポリシーやコンプライアンス要件に違反する可能性がある
   - 監査時に指摘される可能性がある

### アーキテクチャ上の問題
1. **データ取り込みプロセスの不備**: 
   - HRDB側では退職処理が適切に行われているが、社食システム側での退職ユーザーデータの取り込みが不足している
   - 人事→社食の一方向同期は存在するが、退職情報の取り込み処理が実装されていない、または適切に動作していない
   - バッチ連携のデータ項目に退職情報が含まれていない、または含まれていても処理されていない可能性がある

2. **一方向同期の限界**: 
   - 人事→社食の一方向同期では、退職情報の連携プロセスに問題がある
   - 手動での対応が必要となり、人的ミスや漏れが発生する可能性がある

3. **リアルタイム性の欠如**: 
   - バッチ処理による遅延により、退職者のアカウント無効化が遅延する可能性がある

4. **物理的なIDカード管理とシステム管理の不整合**: 
   - システム側でアカウントを無効化しても、物理的なIDカードが有効なままの場合、アクセス可能な状態が続く
   - 逆に、IDカードを回収してもシステム側でアカウントが有効なままの場合も問題

### プロセス上の問題
1. **リスク認識の不足**: 
   - 年間1-2件と少ないため、コスト面での問題視はされていないが、セキュリティリスクの観点からの評価が不足している
   - 「困ったケースはない」という認識が、リスク管理の観点からは不十分

2. **自動化の不足**: 
   - 退職時のアカウント無効化が手動プロセスに依存している可能性がある
   - 人的ミスや漏れが発生するリスクがある

3. **監視・検知の仕組みの不足**: 
   - 退職者のアカウントが有効なまま残っていることを検知する仕組みがない
   - 不正アクセスを検知する仕組みも不明

### 改善の方向性
1. **退職情報の取り込み処理の実装**: 
   - 人事システムからの退職情報を社食システム側で適切に取り込む処理を実装
   - バッチ連携のデータ項目に退職情報（退職フラグ、退職日など）が含まれているか確認
   - 退職情報を受信した際に、自動的にアカウントを無効化するフローを実装

2. **リアルタイム連携の実現**: 
   - バッチ処理からリアルタイム連携への移行を検討
   - 退職者のアカウント無効化を迅速化

3. **物理的なIDカード管理との統合**: 
   - IDカード回収プロセスとシステム側のアカウント無効化を連携
   - 物理的なアクセスとシステムアクセスの両方を適切に管理

4. **監視・検知の仕組み**: 
   - 退職者のアカウントが有効なまま残っていることを検知する監視機能を導入
   - 不正アクセスを検知するログ監視機能を強化

5. **リスク評価の見直し**: 
   - コスト面だけでなく、セキュリティリスクの観点からも評価
   - インシデントが発生した場合の影響を考慮したリスク評価

## 未確認事項

### リアルタイム連携の実現方法
- 人事システムから退職イベントを発行できるか（イベントストリーミング、CDCなどで対応できる可能性あり。要調査）
- 退職イベントを受信してアカウント無効化を実行する実装方針（イベント駆動アーキテクチャなどで対応できる可能性あり。要調査）
- 認証・認可システムとの連携方法（REST API、イベント連携など。要調査）

### 移行・実装時の確認事項
- 既存のバッチ連携データに退職情報が含まれているか（移行時のデータ移行に必要）
- 物理的なIDカード回収プロセスとシステム側のアカウント無効化の連携方法

