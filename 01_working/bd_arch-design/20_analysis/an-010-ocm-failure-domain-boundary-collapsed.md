---
id: an-010
date: 2025-11-06
title: ocm-failure-domain-boundary-collapsed
status: draft
tags: [analysis, ocm, domain, governance, responsibility]
---

# Incident (Observed Behavior)
- 社食アプリの履歴画面に「社内コンビニの決済結果」や「人事側の天引き金額」まで表示されており、本来の業務境界を越えたデータを保持している
- 社内コンビニ領域の割引・レシート情報の不整合が社食アプリで顕在化し、問い合わせ先が社食・人事・コンビニの3部署にまたがり混乱を招いた
- 社食アプリの設計・開発段階で人事部門のプロダクトオーナーシップが明確化されておらず、意思決定が「決まっていたのでそのまま実装」された経緯がある
- 結果として、**社食ドメイン／人事ドメイン／社内コンビニドメインが混ざり合った“境界崩壊アプリケーション”が生まれた**

# Conclusion
**本来独立すべき社食・人事・社内コンビニの業務境界が、組織的意思決定とOCM（Operational Change Management）の不備により曖昧化した結果、社食アプリが“境界を越えて人事データを扱う役割”を抱え込み、後続の不整合・UX破損・責務分断を引き起こした。**

# Assumptions / Hypotheses
- プロジェクト初期段階で、どの部門がどのデータを扱うべきかの責務境界（Domain Boundary）が定義されていなかった
- 人事側の「天引き予定金額表示要件」がどのシステムで実現されるべきか検討されず、社食アプリ側に丸ごと持ち込まれた
- プロジェクト計画時に「既に決まっているから変えられない」という雰囲気があり、アーキテクトによる“介入ポイント”が欠けていた
- 改修時にも関係部門を巻き込むOCMプロセスが存在せず、個別最適のまま場当たり的な設計判断が行われた

# Reasoning
- 本来、人事ドメインのデータ（給与天引き、所属、ステータス）は **人事システムが唯一の真実のソース（SoT）** であるべき
- しかしその境界定義がないまま、  
  「社員ID決済の天引き予定額」がアプリ側で表示されることになり、  
  **社食アプリが人事データのミラーを保持する異常構造が発生**
- 一度境界が崩壊すると、割引計算やレシート情報など、複数の領域データが“社食アプリ側に寄せられる”設計パターンが温存される  
  → 後続のスキーマ劣化（an-004）、責務分散（an-002）を誘発
- これは技術的問題ではなく、**組織と意思決定プロセス（OCM）の設計不備** に由来する
- その結果、複数ドメインが混在し、何が「正しい情報」なのか判断不能な状態になった

# Implications
- ドメイン境界（社食 / 人事 / コンビニ）を再定義し、**どのデータがどのシステムの責任なのか** を明示する必要がある
- Transition Architecture では、  
  - 人事データは人事システムで  
  - 社食データは社食システムで  
  - コンビニデータはコンビニシステムで  
  といった **“境界の再分離”** が必須
- アプリ側が複数ドメインのデータを抱え込む構造は、再び整合性問題を生み出すため避けるべき
- OCMプロセス（変更管理・関係部門巻き込み・意思決定マトリクス）を導入しない限り、同種の境界崩壊は再発する

# Observations
- 天引き金額が社食アプリに表示されている
- 社内コンビニ領域のデータを社食側で保持している
- どのドメインがどのデータを扱うかが整理されていない
- 設計時の意思決定プロセス（誰が決めるか）が曖昧だった

# Evidence
- raw-notes/2025-11-06-other-complaints.md
- raw-notes/2025-11-06-canteen-table-design.md