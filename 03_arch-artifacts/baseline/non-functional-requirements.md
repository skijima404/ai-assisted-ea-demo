---
title: Baseline Non-Functional Requirements
last_updated: 2025-11-06
note: Target Architecture設計のための現状把握。未確認項目は明記。
---

# Baseline Non-Functional Requirements

> **注**: このドキュメントは、BaselineからTarget Architectureを導き出すために必要な非機能要件の現状をまとめたものです。未確認の項目は明記しています。

## パフォーマンス

### 現状（未確認）
- [ ] レスポンスタイム（画面表示、API応答）
- [ ] スループット（同時接続数、リクエスト数/秒）
  - ピーク時（12:00-13:00）の具体的な数値があると設計に有用
- [ ] バッチ処理の実行時間（月次CSV生成、日次CSV処理）

### 観察された問題
- 社食を利用した翌日にならないと金額が反映されない（バッチ処理の遅延）
- ピーク時の負荷集中（12:00-13:00）によるパフォーマンスへの影響の有無（未確認）

## 可用性・信頼性

### 現状（未確認）
- [ ] SLA要件（ダウンタイム許容度、可用性目標）
- [ ] 障害発生頻度と平均復旧時間（MTTR）
- [ ] バックアップ・リストア体制

### 観察された問題
- バックプレッシャー不可視：外部都合（受信側落ち等）がUI/運用に波及

## スケーラビリティ

### 現状
- [x] **ユーザー数**: 従業員10,000人（うち約5,000人が社食を利用）
- [x] **ピーク時の負荷**: 
  - ユーザー起点の処理は12:00-13:00に集中（組織のお昼休み時間）
  - メニュー表の確認が11:30あたりから増加
  - 社食利用による書き込みが12:10-13:00に集中

### 現状（未確認）
- [ ] **同時アクセス数**: ピーク時（12:00-13:00）の同時アクセス数、リクエスト数/秒
- [ ] **取引数**: 1日あたり、1ヶ月あたりの取引数（社食利用回数、コンビニ利用回数）
- [ ] **データ量**: DBサイズ、データ保持期間、1日あたりのデータ増加量

## セキュリティ

### 現状（未確認）
- [ ] 認証・認可の仕組み（現行システム）
- [ ] データ保護要件（個人情報保護、暗号化）
- [ ] コンプライアンス要件（監査要件など）

### 観察された問題
- 退職者のアカウントが無効化されない（セキュリティリスク）
- 監査証跡が分散：取引の原記録（イベント）と請求合算の紐付けが弱い

## 運用・監視

### 現状（未確認）
- [ ] 監視体制（ログ管理、アラート設定）
- [ ] 障害対応プロセス
- [ ] 運用チームの体制・スキル

### 観察された問題
- 再実行・冪等の管理が手作業寄り（CSV重複/欠損検知、差分再送の標準化不足）

## 技術スタック

### 現状（未確認）
- [ ] アプリケーションの技術スタック（言語、フレームワーク）
- [ ] データベースの種類・バージョン
- [ ] ミドルウェア（Webサーバー、APサーバーなど）
- [ ] インフラ環境（オンプレミス、クラウドなど）
- [ ] **OS/MWのEOSL（End of Service Life）**: 
  - 使用しているOS、ミドルウェアのサポート終了日
  - EOSLが近い、または既に終了している場合、セキュリティリスクや運用リスクが高まる
  - モダナイゼーションの重要な動機となる

## 移行制約

### 現状（未確認）
- [ ] 移行期間の制約（ダウンタイム許容度、移行スケジュール）
- [ ] 既存システムとの互換性要件
- [ ] 段階的移行の可能性（ビッグバン vs 段階的移行）

---

## 補足

上記の未確認項目は、Target Architectureの設計において以下の観点で重要です：

1. **パフォーマンス・スケーラビリティ**: マイクロサービス化の粒度やKafkaの設定に影響
2. **可用性**: OpenShiftクラスタの構成やレプリケーション戦略に影響
3. **セキュリティ**: Keycloakの設定やデータ保護方針に影響
4. **運用・監視**: Service Meshの設定や監視ツールの選定に影響
5. **技術スタック**: 既存システムとの連携方法や移行戦略に影響
6. **移行制約**: 移行アプローチ（ビッグバン vs 段階的移行）の決定に影響

